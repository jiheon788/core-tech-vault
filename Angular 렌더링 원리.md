# Angular 렌더링 원리

1. 부트스트랩 모듈에서 루트 모듈 전달
2. 컴파일: 앵귤러 코드를 VM 친화적인 JS 코드로 변환
	- JIT (Just In Time): 브라우저에서 최초 1회 실행
		- 최초 컴파일에만 사용하는 패키지를 번들링 결과물에 포함 시켜야함
		- 초기 로딩시 컴파일이 포함되어 속도 지연
	- AOT (Ahead Of Time): 번들링 하기 전에 컴파일
		- 번들링 결과물에 컴파일 패키지를 포함시킬 필요가 없고, 초기 로딩 속도 빠름
		- [^1]플랫폼 종속적인 코드가 없어야 한다.
3. [[Change Detection#NgZone|NgZone]] 객체 생성 및 루트 모듈에 선언한 컴포넌트 부터 순차적으로 컴파일한 컴포넌트 팩토리 객체를 사용해 컴포넌트와 뷰를 그린다.
4. 사용자 이벤트, ajax, settimeout 같은 비동기 코드가 발생할 경우, 상태 변경이 발생할 수 있다는 가정하에 모든 컴포넌트의 변경사항 감지 
	- 루트 - 하위 컴포넌트는 각각 변경 감지기가 있어 컴포넌트 트리에 대응하는 변경사항 감지 트리 구성
	- 컴포넌트가 많거나 이벤트 발생 빈도가 높을 때 [[Change Detection#Change Detection 전략|Change Detection 전략]] 중 OnPush로 설정하여 불필요한 변경 감지 예방

[^1]: window.location.href, documentURL 등 (내가 작성한 코드 뿐 아니라 외부 패키지도 포함되지 않아야한다) 
